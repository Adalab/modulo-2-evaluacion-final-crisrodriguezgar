"use strict";const inputSearch=document.querySelector(".js-input"),btnSearch=document.querySelector(".js-btn-search"),container=document.querySelector(".js-container"),favs=document.querySelector(".js-favs");let showsList=[],showsFavorites=[];function getApi(){const e=inputSearch.value;fetch("//api.tvmaze.com/search/shows?q="+e).then(e=>e.json()).then(e=>{showsList=e,renderSeriesList(showsList)}).catch(e=>{console.error("Ahora mismo no podemos buscarlo, danos unos minutos",e)})}function renderSerie(e){let n="",s="";return s=e.show.image?e.show.image.medium:"https://via.placeholder.com/210x295/ffffff/666666/?text=TV",n+=`<ul id=${e.show.id} class= "js-each-serie">`,n+=`<li><img class="img" src="${s}" alt="Imagen de portada"></li>`,n+=`<li><h3>${e.show.name}</h3></li>`,n+="</ul>",n}function renderSeriesList(e){container.innerHTML="";for(const n of e)container.innerHTML+=renderSerie(n);addEventFav()}function renderFavoritesList(e){favs.innerHTML="";for(const n of e)favs.innerHTML+=renderSerie(n);addEventFav()}function handleClickFav(e){e.preventDefault(),console.log(e.currentTarget.id);const n=parseInt(e.currentTarget.id);let s=showsList.find(e=>e.show.id===n);const t=showsFavorites.findIndex(e=>e.show.id===n);-1===t?showsFavorites.push(s):showsFavorites.splice(t,1),renderFavoritesList(showsFavorites)}function addEventFav(){const e=document.querySelectorAll(".js-each-serie");for(const n of e)n.addEventListener("click",handleClickFav)}function handleClickSearch(e){e.preventDefault(),getApi()}btnSearch.addEventListener("click",handleClickSearch);